(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){e.exports=a(21)},18:function(e,t,a){},19:function(e,t,a){},2:function(e,t,a){e.exports={globalContainer:"Explorer_globalContainer__EIc-P",listContainer:"Explorer_listContainer__3saL3",list:"Explorer_list__9u9tG",item:"Explorer_item__2AHHE",value:"Explorer_value__3Om30",arr:"Explorer_arr__253wr",bool:"Explorer_bool__2Rnkf",null:"Explorer_null__3js9-",num:"Explorer_num__OaGj4",obj:"Explorer_obj__3LsZL",str:"Explorer_str__395po"}},21:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),s=a.n(l),o=(a(18),a(3)),i=a(4),u=a(6),c=a(5),h=a(7),m=(a(19),a(8)),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={value:""},a.handleTextAreaChange=a.handleTextAreaChange.bind(Object(m.a)(a)),a.onSubmit=a.onSubmit.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"onSubmit",value:function(e){0!==this.state.value.length&&this.props.onSubmit(this.state.value)}},{key:"handleTextAreaChange",value:function(e){var t=e.target.value?e.target.value:"";this.setState({value:t})}},{key:"render",value:function(){return r.a.createElement("div",{className:"flex-row",id:"intro"},r.a.createElement("div",{className:"card",style:{position:"absolute",left:"20%",top:"30%",width:"600px"}},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"JSON Size Explorer"),r.a.createElement("p",null,"Understand the structure of your JSON files."),r.a.createElement("div",null,r.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},"Paste"),r.a.createElement("textarea",{id:"area",cols:60,rows:10,value:this.state.value,onChange:this.handleTextAreaChange}),r.a.createElement("br",null),r.a.createElement("button",{id:"sub",className:"btn btn-info btn-sm",onClick:this.onSubmit},"Submit")))))}}]),t}(r.a.Component);function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return e.length>t?e.substr(0,t)+"...":e}var v=new Intl.NumberFormat(navigator.language);function d(e){return v.format(e)}function b(e){var t=e.jsonStats;return r.a.createElement("div",{className:"flex-row"},r.a.createElement("h1",null,"Summary"),r.a.createElement("ul",null,r.a.createElement("li",null,"Total document size: ",d(t.totalLength)),r.a.createElement("li",null,"Number of keys: ",d(t.nbOfKey())),r.a.createElement("li",null,"Number of unique keys:"," ",d(Object.keys(t.keys).length)),r.a.createElement("li",null,"Key size: ",d(t.keySize())," -"," ",t.perc(t.keySize()),"%")))}function f(e){return r.a.createElement("div",{className:"flex-row"},r.a.createElement("div",null,r.a.createElement("h2",null,"Keys"),r.a.createElement(j,{jsonStats:e.jsonStats}),r.a.createElement(k,{jsonStats:e.jsonStats})),r.a.createElement("div",null,r.a.createElement("h2",null,"Values"),r.a.createElement(E,{jsonStats:e.jsonStats}),r.a.createElement(g,{jsonStats:e.jsonStats})),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Duplicates"),r.a.createElement(O,{jsonStats:e.jsonStats}),r.a.createElement(S,{jsonStats:e.jsonStats}))))}function j(e){var t=e.jsonStats;return r.a.createElement(N,{title:"Most Frequently used keys",description:"List all the keys found in the JSON and order them by how many times they were found.",dataProvider:t.keySortedByCount.bind(t),processor:function(e){var a=e.length*t.keys[e];return[p(e),d(t.keys[e]),d(a),t.perc(a)]}})}function k(e){var t=e.jsonStats;return r.a.createElement(N,{title:"Heaviest keys",description:"List all the keys found in the JSON and order them by how many characters are needed to store them.",dataProvider:t.keySortedBySize.bind(t),processor:function(e){var a=e.length*t.keys[e];return[e,d(t.keys[e]),d(a),t.perc(a)]}})}function E(e){var t=e.jsonStats;return r.a.createElement(N,{title:"Most Frequent Values",description:"List all the values found in the JSON and order them by how many we saw them.",dataProvider:t.valuesSortedByCount.bind(t),processor:function(e){var a=t.values[e].length*e.length;return[p(e),d(t.values[e].length),d(a),t.perc(a)+"%"]}})}function g(e){var t=e.jsonStats;return r.a.createElement(N,{title:"Heaviest Values",description:"List all the values found in the JSON and order them by how many characters are needed to store them.",dataProvider:t.valuesSortedBySize.bind(t),processor:function(e){var a=t.values[e].length*e.length;return[p(e),d(t.values[e].length),d(a),t.perc(a)+"%"]}})}function O(e){var t=e.jsonStats;return r.a.createElement(N,{title:"Most Frequent Duplicates",description:"List all the tuples Key/Value found in the JSON and order them by how often we saw them.",dataProvider:t.freqDupsValue.bind(t),processor:function(e){var a=t.keyValue[e]*(e.length-3);return[p(e.replace("@#@"," = ")),d(t.keyValue[e]),d(a),t.perc(a)+"%"]}})}function S(e){var t=e.jsonStats;return r.a.createElement(N,{title:"Heaviest Duplicates",description:"List all the tuples Key/Value ordered by how many characters are used to store them.",dataProvider:t.biggestDupsValue.bind(t),processor:function(e){var a=t.keyValue[e]*(e.length-3);return[p(e.replace("@#@"," = ")),d(t.keyValue[e]),d(a),t.perc(a)+"%"]}})}function N(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,e.title),";",r.a.createElement("div",{className:"alert alert-secondary",role:"alert"},e.description),r.a.createElement("table",{className:"table table-striped table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Key Name"),r.a.createElement("th",null,"Count"),r.a.createElement("th",null,"Total Size"),r.a.createElement("th",null,"%"))),r.a.createElement("tbody",null,(t=e.dataProvider,a=e.processor,t().slice(-5).map(a).map(w)))));var t,a}function w(e,t){return r.a.createElement("tr",{key:t},e.map(function(e,a){return r.a.createElement("td",{key:t+"-"+a},e)}))}var V=a(12),C=a(1),K=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.jsonStats,a=e.objKey,n=t.keys[a],l=t.keys[a]*a.length,s=this.props.jsonStats.distinctValue(this.props.objKey),o=s.reduce(function(e,t){return t.size+e},0);return r.a.createElement("div",null,r.a.createElement("h2",null,"Stats for '",a,"'"),r.a.createElement("ul",null,r.a.createElement("li",null,"The Key is found ",n," times in document"),r.a.createElement("li",null,"The weight of the key itself is ",d(l)," (",t.perc(l),"%)"),r.a.createElement("li",null,"The total size of all the keys and values"," ",d(o)," (",t.perc(o),"%)"),r.a.createElement("li",null,"Key has ",s.length," distinct values",s.length>1&&r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Value"),r.a.createElement("th",null,"#"),r.a.createElement("th",null,"%"))),r.a.createElement("tbody",null,[0,1].map(function(e){var n=s[e];return r.a.createElement("tr",{key:a+"-"+e},r.a.createElement("td",null,p(n.key,20)),r.a.createElement("td",null,d(n.count)),r.a.createElement("td",null,d(n.size)),r.a.createElement("td",null,t.perc(n.size)))}))))))}}]),t}(r.a.Component),x=a(2),_=a.n(x),J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).state={hoverObjKey:"",expendedKeys:{}},a.toggleCollapsedKey=a.toggleCollapsedKey.bind(Object(m.a)(a)),a.hoverOn=a.hoverOn.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"hoverOn",value:function(e){this.setState({hoverObjKey:e})}},{key:"toggleCollapsedKey",value:function(e){var t=C.clone(this.state.expendedKeys);C.has(t,e)?C.unset(t,e):C.set(t,e,!0),this.setState({expendedKeys:t})}},{key:"render",value:function(){return r.a.createElement("div",{className:"flex-row"},r.a.createElement("h2",null,"Json Explorer"),r.a.createElement("div",{className:_.a.globalContainer},r.a.createElement("div",{className:_.a.listContainer},r.a.createElement(z,{obj:this.props.jsonObj,stats:this.props.jsonStats,path:[],expendedKeys:this.state.expendedKeys,toggleCollapsedKey:this.toggleCollapsedKey,hoverOn:this.hoverOn})),r.a.createElement("div",null,this.state.hoverObjKey.length>0&&r.a.createElement(K,{jsonObj:this.props.jsonObj,jsonStats:this.props.jsonStats,objKey:this.state.hoverObjKey}))))}}]),t}(r.a.Component),z=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.obj,a=Object.keys(t);return a.sort(),r.a.createElement("ul",{className:_.a.list},a.map(function(a){var n=C.get(e.props.expendedKeys,a,!1);return r.a.createElement(A,{key:C.uniqueId(a),path:e.props.path.concat([a]),valueFromArray:C.isArray(t),value:t[a],stats:e.props.stats,toggleCollapsedKey:e.props.toggleCollapsedKey,isOpen:!1!==n,hoverOn:e.props.hoverOn,expendedKeys:!1!==n?n:{}})}))}}]),t}(r.a.Component),A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(c.a)(t).call(this,e))).onClick=a.onClick.bind(Object(m.a)(a)),a.onHoverIn=a.onHoverIn.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"onHoverIn",value:function(){this.props.hoverOn(this.props.path[this.props.path.length-1])}},{key:"onClick",value:function(){this.props.toggleCollapsedKey(this.props.path)}},{key:"render",value:function(){var e=this.props.path[this.props.path.length-1],t=this.props,a=t.value,n=t.stats,l=JSON.stringify(Object(V.a)({},e,a)).length-2,s=C.isPlainObject(a)||C.isArray(a),o=n.perc(l),i=this.props.valueFromArray?"Array Key "+e:e;return r.a.createElement("li",{className:_.a.item},r.a.createElement("span",{onClick:s?this.onClick:C.noop,style:{color:L(o/100)},onMouseEnter:this.onHoverIn},o,"% ",i," ",r.a.createElement(P,{value:a})),this.props.isOpen&&r.a.createElement(z,{obj:a,stats:n,path:this.props.path,toggleCollapsedKey:this.props.toggleCollapsedKey,expendedKeys:this.props.expendedKeys,hoverOn:this.props.hoverOn}))}}]),t}(r.a.Component);function L(e){return"hsl("+240*(1-e)+", 100%, 50%)"}function P(e){var t=e.value;return C.isNull(t)?r.a.createElement("span",{className:_.a.null+" "+_.a.value},"null"):C.isNumber(t)?r.a.createElement("span",{className:_.a.num+" "+_.a.value},t):C.isString(t)?r.a.createElement("span",{className:_.a.str+" "+_.a.value},'"',p(t,25),'"'):C.isArray(t)?r.a.createElement("span",{className:_.a.arr+" "+_.a.value},"[",t.length,"]"):C.isPlainObject(t)?r.a.createElement("span",{className:_.a.obj+" "+_.a.value},"{",C.size(t),"}"):C.isBoolean(t)?r.a.createElement("span",{className:_.a.bool+" "+_.a.value},String(t)):r.a.createElement(r.a.Fragment,null,"###")}function B(e){return r.a.createElement("div",{className:"flex-row"},r.a.createElement(b,{jsonStats:e.jsonStats}),r.a.createElement(f,{jsonStats:e.jsonStats}),r.a.createElement(J,{jsonStats:e.jsonStats,jsonObj:e.jsonObj}))}var H=function(){function e(t){Object(o.a)(this,e),this.totalLength=void 0,this.keyValue=void 0,this.keys=void 0,this.values=void 0,this.totalLength=t,this.keys={},this.values={},this.keyValue={}}return Object(i.a)(e,[{key:"addKeyValue",value:function(e,t,a){this.keys[e]||(this.keys[e]=0),this.keys[e]=this.keys[e]+1;var n=JSON.stringify(t),r=e+"@#@"+n;this.keyValue[r]||(this.keyValue[r]=0),this.keyValue[r]=this.keyValue[r]+1,this.values[n]||(this.values[n]=[]),this.values[n].push(a)}},{key:"keySortedByCount",value:function(){var e=this,t=Object.keys(this.keys);return t.sort(function(t,a){return e.keys[t]>e.keys[a]?1:e.keys[t]<e.keys[a]?-1:0}),t}},{key:"keySortedBySize",value:function(){var e=this,t=Object.keys(this.keys);return t.sort(function(t,a){var n=e.keys[t]*t.length,r=e.keys[a]*a.length;return n>r?1:n<r?-1:0}),t}},{key:"valuesSortedByCount",value:function(){var e=this,t=Object.keys(this.values);return t.sort(function(t,a){return e.values[t].length>e.values[a].length?1:e.values[t].length<e.values[a].length?-1:0}),t}},{key:"valuesSortedBySize",value:function(){var e=this,t=Object.keys(this.values);return t.sort(function(t,a){var n=t.length*e.values[t].length,r=a.length*e.values[a].length;return n>r?1:n<r?-1:0}),t}},{key:"nbOfKey",value:function(){var e=this;return Object.keys(this.keys).reduce(function(t,a){return t+e.keys[a]},0)}},{key:"keySize",value:function(){var e=this;return Object.keys(this.keys).reduce(function(t,a){return t+a.length*e.keys[a]},0)}},{key:"perc",value:function(e){return Math.floor(e/this.totalLength*1e3)/10}},{key:"freqDupsValue",value:function(){var e=this,t=Object.keys(this.keyValue).filter(function(t){return e.keyValue[t]>1});return t.sort(function(t,a){var n=e.keyValue[t],r=e.keyValue[a];return n>r?1:n<r?-1:0}),t}},{key:"biggestDupsValue",value:function(){var e=this,t=Object.keys(this.keyValue).filter(function(t){return e.keyValue[t]>1});return t.sort(function(t,a){var n=e.keyValue[t]*t.length,r=e.keyValue[a]*a.length;return n>r?1:n<r?-1:0}),t}},{key:"distinctValue",value:function(e){var t=this,a=Object.keys(this.keyValue).filter(function(t){return t.substr(0,e.length+"@#@".length)===e+"@#@"});return a.sort(function(e,a){return t.keyValue[e]>t.keyValue[a]?-1:t.keyValue[e]<t.keyValue[a]?1:0}),a.map(function(e){return{key:e,count:t.keyValue[e],size:t.keyValue[e]*e.length}})}}]),e}();function T(e){var t=new H(e.length);return function e(t,a,n){Object.keys(t).forEach(function(r){var l=t[r];a.addKeyValue(r,l,n),C.isPlainObject(l)?e(t[r],a,n+"."+r):C.isArray(l)&&l.forEach(function(t,l){C.isPlainObject(t)&&e(t,a,n+"."+r+"."+l)})})}(JSON.parse(e),t,""),t}var F=function(e){function t(e){var a;Object(o.a)(this,t),a=Object(u.a)(this,Object(c.a)(t).call(this,e));var n="".length?T(""):new H(0);return a.state={rawJsonString:"",jsonObj:{},jsonStats:n},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"onSubmit",value:function(e){var t=T(e),a=JSON.parse(e);this.setState({rawJsonString:e,jsonStats:t,jsonObj:a})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},0===this.state.rawJsonString.length&&r.a.createElement(y,{onSubmit:this.onSubmit.bind(this)}),0!==this.state.rawJsonString.length&&r.a.createElement(B,{jsonObj:this.state.jsonObj,jsonStats:this.state.jsonStats}))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[13,1,2]]]);
//# sourceMappingURL=main.3afd17f0.chunk.js.map